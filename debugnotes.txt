Observations based on newGL test and SVT simulations:

GLFW is not slowing the simulation down
GLFW works perfectly fine parallelized and with 2.3k nodes

Both Circle24 and IdealLeftAtrium2.3k run slow, weirdly enough idealLA2.3k draws more often?

Running on Circle24 confirms that the draw rate is significantly slower... why?

Simulation slows down to about the same draw speed as SVT at ~50k spheres

Putting all of this together, my guess is that this is due to some sort of CPU/GPU bottleneck within the code
    Possible solution: Optimization, shorten amnt of mem copies, use VBOs


2nd attempt: Profling using NVIDIA NSight
-g -G to use Nsight
nvcc -g -G newGLTest.cu -o newGLTest -lGL -lglfw -lGLEW

Profile code to identify bottlenecks
nsys profile -t cuda,opengl,nvtx,osrt -o profile_report ./newGLTest

To view report
nsys-ui profile_report.qdrep



Notable things from reading the chart

most time is spent on memory transfers... minimize these

In fact, went from barely working to easily working at n = 50k

Used VBOS, reduced memory transfers & reduced drawrate from 10 to 1 and it works perfectly



Specifically for optimizing SVT:

My suggestions: 
- Draw using VBOs
- Combine kernels into one?
- Only copy positions before drawing in NBody, rather than copying everything
- Only copy positions when translation is needed in the keypressed, not every attribute

-97.3% of mem copies are DtoH and most of kernel is spent copying memory, try to minimize these

Real problems: CPU Bottleneck on low simulations, GPU on high
Moving to VBOs takes rendering off of CPU, so should fix that and most kernels are spent waiting on mem copies
so minimizing these should fix that as well
